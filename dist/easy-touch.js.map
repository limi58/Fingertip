{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 42f362b812a808eb7e05","webpack:///./src/easy-touch.js"],"names":[],"mappings":"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","file":"easy-touch.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Touch\"] = factory();\n\telse\n\t\troot[\"Touch\"] = factory();\n})(this, function() {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 42f362b812a808eb7e05\n **/","function Touch(dom){\r\n  if(dom == null || typeof dom !== 'object') throw new Error('dom is invalid')\r\n  this.dom = dom\r\n  this.startX = 0\r\n  this.startY = 0\r\n  this.endX = 0\r\n  this.endY = 0\r\n  this.actions = ['pan']\r\n  this.effectiveDistance = 10\r\n  this.callbacks = {\r\n    panFn: null,\r\n  }\r\n}\r\n\r\nTouch.prototype = {\r\n  on: function(action, cb){\r\n    if(typeof action !== 'string' || typeof cb !== 'function') \r\n      throw new Error('\"on\" method params is invalid')\r\n    this.verifyAction(action)\r\n    this.setCallbacks(action, cb)\r\n    this.dom.addEventListener('touchstart', e => this.onTouchstart(e), false)\r\n    this.dom.addEventListener('touchend', e => this.onTouchend(e), false)\r\n  },\r\n\r\n  onTouchstart: function(e){\r\n    this.startY = e.changedTouches[0].pageY\r\n    this.startX = e.changedTouches[0].pageX\r\n  },\r\n\r\n  onTouchend: function(e){\r\n    this.endX = e.changedTouches[0].pageX\r\n    this.endY = e.changedTouches[0].pageY\r\n    const distanceY = this.endY - this.startY\r\n    const distanceX = this.endX - this.startX\r\n    this.handlePanCb(distanceX, distanceY)\r\n  },\r\n\r\n  handlePanCb(distanceX, distanceY){\r\n    if(this.callbacks.panFn == null) return\r\n    // vertical direction \r\n    if(Math.abs(distanceY) > this.effectiveDistance && Math.abs(distanceY) >= Math.abs(distanceX)){\r\n      this.callbacks.panFn({type: distanceY < 0 ? 'panup' : 'pandown'})\r\n    }else if(Math.abs(distanceX) > this.effectiveDistance && Math.abs(distanceX) > Math.abs(distanceY)){// horizontal direction\r\n      this.callbacks.panFn({type: distanceX < 0 ? 'panleft' : 'panright'})\r\n    }\r\n  },\r\n\r\n  setCallbacks(action, cb){\r\n    switch(action){\r\n      case 'pan':\r\n        this.callbacks.panFn = cb \r\n        break\r\n    }\r\n  },\r\n\r\n  verifyAction: function(action){\r\n    if(this.actions.indexOf(action) < 0) \r\n      throw new Error(`not exists \"${action}\" action, only support \"${this.actions.join(',')}\" at present.`)\r\n  },\r\n\r\n}\r\n\r\nmodule.exports = Touch\n\n\n/** WEBPACK FOOTER **\n ** ./src/easy-touch.js\n **/"],"sourceRoot":""}